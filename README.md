# AlphaGrid 量化交易回测系统

一个基于 Python 的量化交易回测框架，支持向量化回测、多种技术指标和绩效分析。

## 🚀 快速开始

### 安装依赖

#### 最小安装（推荐）
```bash
pip install -r requirements-minimal.txt
```

#### 完整安装
```bash
pip install -r requirements.txt
```

#### 开发环境安装
```bash
pip install -r requirements-dev.txt
```

### 运行回测

```bash
cd quant
python3 run_backtest.py
```

## 📦 依赖说明

### 核心依赖
- **pandas**: 数据处理和分析
- **numpy**: 数值计算
- **pyarrow**: 高性能数据缓存（可选，但推荐）

### 开发依赖
- **pytest**: 单元测试
- **black**: 代码格式化
- **flake8**: 代码检查
- **mypy**: 类型检查

## 📁 项目结构

```
AlphaGrid/
├── quant/                    # 核心代码
│   ├── engine/              # 回测引擎
│   │   ├── data.py         # 数据加载和缓存
│   │   ├── backtest.py     # 向量化回测
│   │   └── metrics.py      # 绩效指标
│   ├── strategies/          # 交易策略
│   │   └── sma_cross.py    # SMA交叉策略
│   └── run_backtest.py     # 主运行脚本
├── data/                    # 数据目录
├── requirements.txt         # 完整依赖
├── requirements-minimal.txt # 最小依赖
└── requirements-dev.txt     # 开发依赖
```

## 🔧 功能特性

- ✅ 向量化回测引擎
- ✅ 多种技术指标支持
- ✅ 完整的绩效分析
- ✅ 数据缓存优化
- ✅ 模块化设计
- ✅ 类型提示支持

## 📊 示例输出

```
🚀 开始量化回测...
📂 加载股票数据...
✅ 数据加载完成，共 365 个交易日
🎯 生成交易信号...
✅ 信号生成完成，共 335 个交易信号
⚡ 执行向量化回测...

==================================================
📊 回测绩效报告
==================================================
💰 总盈亏:       781,578.18
📈 年化收益:        -11.82%
📊 夏普比率:           0.45
📉 年化波动:        114.76%
⬇️  最大回撤:   -1,283,525.74
📊 回撤比例:       -107.92%
==================================================
```
